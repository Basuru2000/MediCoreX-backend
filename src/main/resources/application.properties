# =====================================================
# DATABASE CONFIGURATION
# =====================================================
spring.datasource.url=jdbc:mysql://localhost:3306/medicorex_db?useSSL=false&serverTimezone=UTC&createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=Glbjn@2000
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =====================================================
# JPA CONFIGURATION
# =====================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# =====================================================
# SERVER CONFIGURATION
# =====================================================
server.port=8080
server.error.include-message=always

# =====================================================
# JWT CONFIGURATION
# =====================================================
jwt.secret=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
jwt.expiration=86400000

# =====================================================
# FILE UPLOAD CONFIGURATION
# =====================================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
file.upload-dir=./uploads
file.allowed-extensions=jpg,jpeg,png,gif,webp
file.max-size=5242880

# =====================================================
# APPLICATION INFO
# =====================================================
spring.application.name=MediCoreX Backend API
app.version=1.0.0

# =====================================================
# SPRING BOOT ACTUATOR
# =====================================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.health.db.enabled=true
management.health.diskspace.enabled=true

# =====================================================
# JACKSON CONFIGURATION
# =====================================================
spring.jackson.date-format=yyyy-MM-dd
spring.jackson.time-zone=UTC

# =====================================================
# TASK EXECUTION & SCHEDULING (COMBINED)
# =====================================================
# Thread Pool for Async Tasks
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=Async-

# Thread Pool for Scheduled Tasks
spring.task.scheduling.pool.size=10
spring.task.scheduling.thread-name-prefix=Scheduler-

# =====================================================
# EXPIRY MONITORING CONFIGURATION
# =====================================================
expiry.check.enabled=true
expiry.check.time=02:00:00
expiry.check.timezone=UTC
expiry.check.allow-multiple-manual=true

# =====================================================
# BATCH MANAGEMENT CONFIGURATION
# =====================================================
batch.auto-mark-expired=true
batch.fifo-consumption=true
batch.allow-negative-stock=false

# =====================================================
# QUARANTINE MODULE CONFIGURATION
# =====================================================
quarantine.auto.enabled=true
quarantine.auto.cron=0 30 2 * * *
quarantine.review.timeout.days=7
quarantine.escalation.enabled=true
quarantine.escalation.days=3
quarantine.notification.enabled=true
quarantine.approval.required=true

# Disposal Configuration
quarantine.disposal.methods=Incineration,Chemical Treatment,Return to Supplier,Donation,Other
quarantine.disposal.certificate.required=true

# Report Configuration
quarantine.report.retention.days=90
quarantine.report.format=PDF,EXCEL

# =====================================================
# NOTIFICATION SYSTEM CONFIGURATION
# =====================================================
# Core Settings
notification.enabled=true
notification.batch.size=100
notification.cleanup.days=90
notification.expire.low.priority.days=30

# Category Settings
notification.category.quarantine.enabled=true
notification.category.stock.enabled=true
notification.category.expiry.enabled=true
notification.category.batch.enabled=true
notification.category.user.enabled=true
notification.category.system.enabled=true
notification.category.approval.enabled=true
notification.category.report.enabled=true

# Priority Settings
notification.priority.critical.enabled=true
notification.priority.high.enabled=true
notification.priority.medium.enabled=true
notification.priority.low.enabled=true

# Real-time Settings
notification.realtime.enabled=true
notification.polling.interval.seconds=30

# Cleanup Settings
notification.cleanup.enabled=true
notification.cleanup.archive.days=90
notification.cleanup.expired.days=30
notification.cleanup.cron=0 0 3 * * ?

# Template Cache Settings
notification.template.cache.enabled=true
notification.template.cache.ttl.minutes=60

# =====================================================
# LOGGING CONFIGURATION
# =====================================================
# Security and Authentication Logging
logging.level.com.medicorex.config=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.authentication=TRACE
logging.level.org.springframework.security.crypto.bcrypt=TRACE

# Enhanced Debug Logging for Notifications
logging.level.com.medicorex.service.NotificationService=TRACE
logging.level.com.medicorex.service.ProductBatchService=DEBUG
logging.level.com.medicorex.service.UserService=DEBUG
logging.level.com.medicorex.service.quarantine.QuarantineService=DEBUG

# Controllers
logging.level.com.medicorex.controller.NotificationController=DEBUG
logging.level.com.medicorex.controller.NotificationDebugController=DEBUG
logging.level.com.medicorex.controller.NotificationDirectTestController=DEBUG

# Repositories
logging.level.com.medicorex.repository.UserRepository=DEBUG
logging.level.com.medicorex.repository.NotificationRepository=DEBUG

# Configuration
logging.level.com.medicorex.config.AsyncConfig=DEBUG
logging.level.com.medicorex.config.NotificationTemplateDataLoader=DEBUG

# Spring async and scheduling
logging.level.org.springframework.scheduling.annotation=DEBUG
logging.level.org.springframework.aop.interceptor=DEBUG

# Hibernate SQL Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log File Configuration
logging.file.name=medicorex-debug.log
logging.file.max-size=10MB
logging.file.max-history=5

# Pattern for better readability
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n